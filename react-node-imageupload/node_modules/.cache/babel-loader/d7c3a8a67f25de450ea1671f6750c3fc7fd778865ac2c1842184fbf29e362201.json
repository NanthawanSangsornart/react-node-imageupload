{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nunth\\\\OneDrive\\\\\\u0E40\\u0E14\\u0E2A\\u0E01\\u0E4C\\u0E17\\u0E47\\u0E2D\\u0E1B\\\\react-node-imageupload\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userInfo, setuserInfo] = useState({\n    file: [],\n    filepreview: null\n  });\n  const handleInputChange = event => {\n    setuserInfo({\n      ...userInfo,\n      file: event.target.files[0],\n      filepreview: URL.createObjectURL(event.target.files[0])\n    });\n  };\n  const [isSucces, setSuccess] = useState(null);\n  const submit = async () => {\n    const formdata = new FormData();\n    formdata.append('avatar', userInfo.file);\n    axios.post(\"http://localhost:8080/imageupload\", formdata, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      // then print response status\n      console.warn(res);\n      if (res.data.success === 1) {\n        setSuccess(\"Image upload successfully\");\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mr-60\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-white\",\n      children: [\"React Image Upload And Preview Using Node Js - \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" codeat21.com \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 81\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formdesign\",\n      children: [isSucces !== null ? /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\" \", isSucces, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 28\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-white\",\n          children: \"Select Image :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"form-control\",\n          name: \"upload_file\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-dark\",\n          onClick: () => submit(),\n          children: \" Save \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), userInfo.filepreview !== null ? /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"previewimg\",\n      src: userInfo.filepreview,\n      alt: \"UploadImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"C6M6V619rSWawgDiMc+g5DQ7+cI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","App","userInfo","setuserInfo","file","filepreview","handleInputChange","event","target","files","URL","createObjectURL","isSucces","setSuccess","submit","formdata","FormData","append","post","headers","then","res","console","warn","data","success"],"sources":["C:/Users/nunth/OneDrive/เดสก์ท็อป/react-node-imageupload/src/App.js"],"sourcesContent":["import React,{useState} from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n\n  const [userInfo, setuserInfo] = useState({\n    file:[],\n    filepreview:null,\n   });\n\n  const handleInputChange = (event) => {\n    setuserInfo({\n      ...userInfo,\n      file:event.target.files[0],\n      filepreview:URL.createObjectURL(event.target.files[0]),\n    });\n\n  }\n\n  const [isSucces, setSuccess] = useState(null);\n\n  const submit = async () =>{\n    const formdata = new FormData(); \n    formdata.append('avatar', userInfo.file);\n\n    axios.post(\"http://localhost:8080/imageupload\", formdata,{   \n            headers: { \"Content-Type\": \"multipart/form-data\" } \n    })\n    .then(res => { // then print response status\n      console.warn(res);\n      if(res.data.success === 1){\n        setSuccess(\"Image upload successfully\");\n      }\n\n    })\n  }\n\n  return (\n    <div className=\"container mr-60\">\n      <h3 className=\"text-white\">React Image Upload And Preview Using Node Js - <span> codeat21.com </span> </h3>\n\n      <div className=\"formdesign\">\n      {isSucces !== null ? <h4> {isSucces} </h4> :null }\n        <div className=\"form-row\">\n          <label className=\"text-white\">Select Image :</label>\n          <input type=\"file\" className=\"form-control\" name=\"upload_file\"  onChange={handleInputChange} />\n        </div>\n\n        <div className=\"form-row\">\n          <button type=\"submit\" className=\"btn btn-dark\" onClick={()=>submit()} > Save </button>\n          \n        </div>\n      </div>\n      \n      {userInfo.filepreview !== null ? \n        <img className=\"previewimg\"  src={userInfo.filepreview} alt=\"UploadImage\" />\n      : null}\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAAC;AAEnB,SAASC,GAAG,GAAG;EAAA;EAEb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAC;IACvCK,IAAI,EAAC,EAAE;IACPC,WAAW,EAAC;EACb,CAAC,CAAC;EAEH,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;IACnCJ,WAAW,CAAC;MACV,GAAGD,QAAQ;MACXE,IAAI,EAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC1BJ,WAAW,EAACK,GAAG,CAACC,eAAe,CAACJ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IACvD,CAAC,CAAC;EAEJ,CAAC;EAED,MAAM,CAACG,QAAQ,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE7C,MAAMe,MAAM,GAAG,YAAW;IACxB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEf,QAAQ,CAACE,IAAI,CAAC;IAExCJ,KAAK,CAACkB,IAAI,CAAC,mCAAmC,EAAEH,QAAQ,EAAC;MACjDI,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACzD,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAI;MAAE;MACbC,OAAO,CAACC,IAAI,CAACF,GAAG,CAAC;MACjB,IAAGA,GAAG,CAACG,IAAI,CAACC,OAAO,KAAK,CAAC,EAAC;QACxBZ,UAAU,CAAC,2BAA2B,CAAC;MACzC;IAEF,CAAC,CAAC;EACJ,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,iBAAiB;IAAA,wBAC9B;MAAI,SAAS,EAAC,YAAY;MAAA,2EAAgD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA2B;IAAA;MAAA;MAAA;MAAA;IAAA,QAAM,eAE3G;MAAK,SAAS,EAAC,YAAY;MAAA,WAC1BD,QAAQ,KAAK,IAAI,gBAAG;QAAA,gBAAMA,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,QAAO,GAAE,IAAI,eAC9C;QAAK,SAAS,EAAC,UAAU;QAAA,wBACvB;UAAO,SAAS,EAAC,YAAY;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAuB,eACpD;UAAO,IAAI,EAAC,MAAM;UAAC,SAAS,EAAC,cAAc;UAAC,IAAI,EAAC,aAAa;UAAE,QAAQ,EAAEN;QAAkB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC3F,eAEN;QAAK,SAAS,EAAC,UAAU;QAAA,uBACvB;UAAQ,IAAI,EAAC,QAAQ;UAAC,SAAS,EAAC,cAAc;UAAC,OAAO,EAAE,MAAIQ,MAAM,EAAG;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAiB;QAAA;QAAA;QAAA;MAAA,QAElF;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,EAELZ,QAAQ,CAACG,WAAW,KAAK,IAAI,gBAC5B;MAAK,SAAS,EAAC,YAAY;MAAE,GAAG,EAAEH,QAAQ,CAACG,WAAY;MAAC,GAAG,EAAC;IAAa;MAAA;MAAA;MAAA;IAAA,QAAG,GAC5E,IAAI;EAAA;IAAA;IAAA;IAAA;EAAA,QAEF;AAEV;AAAC,GAzDQJ,GAAG;AAAA,KAAHA,GAAG;AA2DZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}